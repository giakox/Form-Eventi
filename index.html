<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Back to Paranoia ‚Äî Sabato 21 Marzo</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&family=Inter:wght@400;500;600&display=swap');

  * { margin: 0; padding: 0; box-sizing: border-box; }

  :root {
    --neon-purple: #b829e3;
    --neon-pink: #ff2d8a;
    --neon-blue: #00d4ff;
    --dark-bg: #0a0a0f;
    --card-bg: rgba(255,255,255,0.04);
    --card-border: rgba(255,255,255,0.08);
  }

  body {
    font-family: 'Inter', sans-serif;
    background: var(--dark-bg);
    color: #e8e8e8;
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* Animated background */
  .bg-glow {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    pointer-events: none; z-index: 0;
    background:
      radial-gradient(ellipse 600px 400px at 20% 20%, rgba(184,41,227,0.12), transparent),
      radial-gradient(ellipse 500px 500px at 80% 60%, rgba(255,45,138,0.08), transparent),
      radial-gradient(ellipse 400px 300px at 50% 90%, rgba(0,212,255,0.06), transparent);
  }

  .container {
    position: relative; z-index: 1;
    max-width: 560px; margin: 0 auto;
    padding: 40px 20px 60px;
  }

  /* Hero */
  .hero {
    text-align: center;
    margin-bottom: 36px;
  }

  .badge {
    display: inline-block;
    background: linear-gradient(135deg, var(--neon-purple), var(--neon-pink));
    color: #fff; font-size: 11px; font-weight: 600;
    letter-spacing: 2px; text-transform: uppercase;
    padding: 6px 16px; border-radius: 20px;
    margin-bottom: 20px;
  }

  .hero h1 {
    font-family: 'Space Grotesk', sans-serif;
    font-size: clamp(2.4rem, 8vw, 3.6rem);
    font-weight: 700;
    line-height: 1.05;
    background: linear-gradient(135deg, #fff 0%, var(--neon-blue) 50%, var(--neon-purple) 100%);
    -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent;
    margin-bottom: 12px;
  }

  .hero .tagline {
    font-size: 16px; color: rgba(255,255,255,0.5);
  }

  .hero-cover {
    width: 100%;
    border-radius: 16px;
    margin-top: 24px;
    border: 1px solid rgba(255,255,255,0.08);
  }

  /* Event details grid */
  .details-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    margin-bottom: 32px;
  }

  .detail-card {
    background: var(--card-bg);
    border: 1px solid var(--card-border);
    border-radius: 14px;
    padding: 18px 16px;
    text-align: center;
    backdrop-filter: blur(10px);
    transition: border-color 0.3s;
  }
  .detail-card:hover {
    border-color: rgba(184,41,227,0.3);
  }

  .detail-card .icon {
    font-size: 24px;
    margin-bottom: 8px;
  }

  .detail-card .label {
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    color: rgba(255,255,255,0.4);
    margin-bottom: 4px;
  }

  .detail-card .value {
    font-family: 'Space Grotesk', sans-serif;
    font-weight: 600;
    font-size: 15px;
    color: #fff;
  }

  .detail-card .sub {
    font-size: 12px;
    color: rgba(255,255,255,0.4);
    margin-top: 2px;
  }

  .detail-card.full-width {
    grid-column: 1 / -1;
  }

  /* Sections */
  .section {
    background: var(--card-bg);
    border: 1px solid var(--card-border);
    border-radius: 16px;
    padding: 28px 24px;
    margin-bottom: 16px;
    backdrop-filter: blur(10px);
  }

  .section h2 {
    font-family: 'Space Grotesk', sans-serif;
    font-size: 18px; font-weight: 600;
    margin-bottom: 16px;
    color: #fff;
  }

  /* Form */
  .form-group {
    margin-bottom: 14px;
  }

  .form-group label {
    display: block;
    font-size: 12px; font-weight: 500;
    color: rgba(255,255,255,0.5);
    margin-bottom: 6px;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .form-group input, .form-group textarea, .form-group select {
    width: 100%;
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 10px;
    padding: 12px 14px;
    font-size: 15px;
    color: #fff;
    font-family: 'Inter', sans-serif;
    transition: border-color 0.3s;
    outline: none;
  }

  .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
    border-color: var(--neon-purple);
    box-shadow: 0 0 0 3px rgba(184,41,227,0.15);
  }

  .form-group input::placeholder, .form-group textarea::placeholder {
    color: rgba(255,255,255,0.25);
  }

  .form-group textarea {
    resize: vertical;
    min-height: 80px;
  }

  .form-group select option {
    background: #1a1a2e;
    color: #fff;
  }

  .btn-primary {
    display: block; width: 100%;
    padding: 14px;
    background: linear-gradient(135deg, var(--neon-purple), var(--neon-pink));
    color: #fff;
    font-family: 'Space Grotesk', sans-serif;
    font-size: 16px; font-weight: 600;
    letter-spacing: 0.5px;
    border: none; border-radius: 12px;
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.3s;
  }
  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(184,41,227,0.35);
  }
  .btn-primary:active { transform: translateY(0); }

  /* Share section */
  .share-btns {
    display: flex; gap: 10px;
  }

  .share-btn {
    flex: 1;
    display: flex; align-items: center; justify-content: center; gap: 8px;
    padding: 12px;
    border-radius: 10px;
    font-size: 14px; font-weight: 500;
    text-decoration: none;
    color: #fff;
    border: 1px solid rgba(255,255,255,0.1);
    background: rgba(255,255,255,0.04);
    cursor: pointer;
    transition: background 0.3s, border-color 0.3s;
  }
  .share-btn:hover {
    background: rgba(255,255,255,0.08);
    border-color: rgba(255,255,255,0.2);
  }
  .share-btn.wa { border-color: rgba(37,211,102,0.3); }
  .share-btn.wa:hover { background: rgba(37,211,102,0.1); }
  .share-btn.ig { border-color: rgba(225,48,108,0.3); }
  .share-btn.ig:hover { background: rgba(225,48,108,0.1); }

  .copy-link-btn {
    width: 100%;
    margin-top: 10px;
    padding: 10px;
    border-radius: 10px;
    font-size: 13px; font-weight: 500;
    color: rgba(255,255,255,0.6);
    border: 1px dashed rgba(255,255,255,0.15);
    background: transparent;
    cursor: pointer;
    transition: color 0.3s, border-color 0.3s;
  }
  .copy-link-btn:hover { color: #fff; border-color: rgba(255,255,255,0.3); }

  /* Toast */
  .toast {
    position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%) translateY(100px);
    background: linear-gradient(135deg, var(--neon-purple), var(--neon-pink));
    color: #fff; padding: 14px 28px; border-radius: 12px;
    font-size: 14px; font-weight: 500;
    box-shadow: 0 10px 40px rgba(184,41,227,0.4);
    transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    z-index: 100;
  }
  .toast.show { transform: translateX(-50%) translateY(0); }

  /* Tabs */
  .tabs {
    display: flex;
    gap: 4px;
    margin-bottom: 20px;
    background: rgba(255,255,255,0.04);
    border-radius: 10px;
    padding: 4px;
  }
  .tab-btn {
    flex: 1;
    padding: 10px 8px;
    background: transparent;
    border: none;
    border-radius: 8px;
    font-size: 13px; font-weight: 500;
    color: rgba(255,255,255,0.4);
    cursor: pointer;
    transition: all 0.3s;
  }
  .tab-btn.active {
    background: rgba(255,255,255,0.08);
    color: #fff;
  }
  .tab-content { display: none; }
  .tab-content.active { display: block; }

  /* Footer */
  .footer {
    text-align: center;
    margin-top: 40px;
    font-size: 12px;
    color: rgba(255,255,255,0.2);
  }

  /* Success state */
  .success-msg {
    display: none;
    text-align: center;
    padding: 20px;
  }
  .success-msg .check {
    width: 60px; height: 60px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--neon-purple), var(--neon-pink));
    display: flex; align-items: center; justify-content: center;
    margin: 0 auto 16px;
    font-size: 28px;
  }
  .success-msg h3 {
    font-family: 'Space Grotesk', sans-serif;
    font-size: 20px; margin-bottom: 8px; color: #fff;
  }
  .success-msg p {
    font-size: 14px; color: rgba(255,255,255,0.5);
  }
</style>
</head>
<body>

<div class="bg-glow"></div>

<div class="container">

  <!-- Hero -->
  <div class="hero">
    <div class="badge">Evento esclusivo</div>
    <h1>Back to Paranoia</h1>
    <p class="tagline">Una notte che non dimenticherai</p>
    <img src="assets/paranoia.jpeg" alt="Back to Paranoia" class="hero-cover">
  </div>

  <!-- Event Details -->
  <div class="details-grid">
    <div class="detail-card">
      <div class="icon">üìÖ</div>
      <div class="label">Quando</div>
      <div class="value">Sab 21 Marzo</div>
      <div class="sub">21:30 ‚Äî 03:00</div>
    </div>
    <div class="detail-card">
      <div class="icon">üìç</div>
      <div class="label">Dove</div>
      <div class="value">Seven</div>
      <div class="sub">Gorla Maggiore, Via Sabotino</div>
    </div>
    <div class="detail-card">
      <div class="icon">üç∏</div>
      <div class="label">Entrata</div>
      <div class="value">20‚Ç¨ Open Bar</div>
      <div class="sub">Tutta la notte</div>
    </div>
    <div class="detail-card">
      <div class="icon">üß•</div>
      <div class="label">Bonus</div>
      <div class="value">Guardaroba</div>
      <div class="sub">Incluso nel prezzo</div>
    </div>
  </div>

  <!-- Main Form Section -->
  <div class="section">
    <div class="tabs">
      <button class="tab-btn active" onclick="switchTab('signup')">Iscriviti</button>
      <button class="tab-btn" onclick="switchTab('info')">Chiedi info</button>
      <button class="tab-btn" onclick="switchTab('invite')">Invita amici</button>
    </div>

    <!-- Tab: Signup -->
    <div id="tab-signup" class="tab-content active">
      <form id="signupForm" onsubmit="handleSignup(event)">
        <div class="form-group">
          <label>Nome</label>
          <input type="text" name="name" placeholder="Il tuo nome" required>
        </div>
        <div class="form-group">
          <label>Email</label>
          <input type="email" name="email" placeholder="la-tua@email.com" required>
        </div>
        <div class="form-group">
          <label>Telefono</label>
          <input type="tel" name="phone" placeholder="+39 333 1234567" required>
        </div>
        <div class="form-group">
          <label>Quante persone?</label>
          <select name="guests">
            <option value="1">Solo io</option>
            <option value="2">Io + 1</option>
            <option value="3">Io + 2</option>
            <option value="4">Io + 3</option>
            <option value="5+">5 o pi√π</option>
          </select>
        </div>
        <button type="submit" class="btn-primary">Iscrivimi alla lista</button>
      </form>
      <div class="success-msg" id="signupSuccess">
        <div class="check">‚úì</div>
        <h3>Sei nella lista!</h3>
        <p>Ti contatteremo su WhatsApp per la conferma. Ci vediamo il 21 marzo!</p>
      </div>
    </div>

    <!-- Tab: Info -->
    <div id="tab-info" class="tab-content">
      <form id="infoForm" onsubmit="handleInfo(event)">
        <div class="form-group">
          <label>Nome</label>
          <input type="text" name="name" placeholder="Il tuo nome" required>
        </div>
        <div class="form-group">
          <label>Email</label>
          <input type="email" name="email" placeholder="la-tua@email.com" required>
        </div>
        <div class="form-group">
          <label>Telefono</label>
          <input type="tel" name="phone" placeholder="+39 333 1234567" required>
        </div>
        <div class="form-group">
          <label>La tua domanda</label>
          <textarea name="question" placeholder="Cosa vorresti sapere?"></textarea>
        </div>
        <button type="submit" class="btn-primary">Invia domanda</button>
      </form>
      <div class="success-msg" id="infoSuccess">
        <div class="check">üí¨</div>
        <h3>Domanda ricevuta!</h3>
        <p>Ti risponderemo il prima possibile su WhatsApp.</p>
      </div>
    </div>

    <!-- Tab: Invite -->
    <div id="tab-invite" class="tab-content">
      <form id="inviteForm" onsubmit="handleInvite(event)">
        <div class="form-group">
          <label>Il tuo nome</label>
          <input type="text" name="senderName" placeholder="Il tuo nome" required>
        </div>
        <div class="form-group">
          <label>Email del tuo amico/a</label>
          <input type="email" name="friendEmail" placeholder="email-amico@esempio.com" required>
        </div>
        <div class="form-group">
          <label>Telefono del tuo amico/a</label>
          <input type="tel" name="friendPhone" placeholder="+39 333 1234567" required>
        </div>
        <div class="form-group">
          <label>Nome dell'amico/a</label>
          <input type="text" name="friendName" placeholder="Nome dell'amico/a">
        </div>
        <button type="submit" class="btn-primary">Invia invito</button>
      </form>
      <div class="success-msg" id="inviteSuccess">
        <div class="check">üì®</div>
        <h3>Invito inviato!</h3>
        <p>Il tuo amico ricever√† tutte le info via email.</p>
      </div>
    </div>
  </div>

  <!-- Share -->
  <div class="section">
    <h2>Condividi l'evento</h2>
    <div class="share-btns">
      <a class="share-btn wa" id="waShareBtn" href="#" target="_blank" rel="noopener">
        üí¨ WhatsApp
      </a>
      <a class="share-btn ig" href="#" onclick="copyToClipboard(); return false;">
        üìã Copia testo
      </a>
    </div>
    <button class="copy-link-btn" onclick="copyPageLink()">üîó Copia link della pagina</button>
  </div>

  <div class="footer">
    <p>Back to Paranoia ‚Äî Seven, Gorla Maggiore</p>
    <p style="margin-top: 4px;">Per smettere di ricevere aggiornamenti, rispondi "STOP" a qualsiasi email.</p>
  </div>

</div>

<div class="toast" id="toast"></div>

<script>
  // ============================================================
  // CONFIGURAZIONE ‚Äî Un solo link da incollare!
  // ============================================================
  // Segui le istruzioni nel file SETUP-GOOGLE-SHEETS.txt
  // poi incolla qui sotto il link del tuo Google Apps Script:
  const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxdGZ80RrshiC2FHX7Slqd4xH060b1VcdX3Pfv4akWhS_lKn7EZExsFN0DuLJMmtlmjhg/exec';
  // Nome dell'evento (cambia questo per ogni nuovo evento)
  const EVENTO = 'Back to Paranoia ‚Äî 21 Marzo 2026';
  // ============================================================

  function switchTab(tab) {
    document.querySelectorAll('.tab-btn').forEach((btn) => {
      btn.classList.toggle('active', btn.textContent.toLowerCase().includes(
        tab === 'signup' ? 'iscriviti' : tab === 'info' ? 'info' : 'invita'
      ));
    });
    document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
    document.getElementById('tab-' + tab).classList.add('active');
  }

  function showToast(msg) {
    const t = document.getElementById('toast');
    t.textContent = msg;
    t.classList.add('show');
    setTimeout(() => t.classList.remove('show'), 3000);
  }

  async function sendToSheet(data) {
    data.evento = EVENTO;
    data.timestamp = new Date().toISOString();
    data.pagina = window.location.href;

    const res = await fetch(GOOGLE_SCRIPT_URL, {
      method: 'POST',
      mode: 'no-cors',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data)
    });
    // no-cors = opaque response, but data arrives in the sheet
    return true;
  }

  async function handleSignup(e) {
    e.preventDefault();
    const form = e.target;
    const btn = form.querySelector('.btn-primary');
    const data = Object.fromEntries(new FormData(form));
    data.tipo = 'iscrizione';

    btn.textContent = 'Invio in corso...';
    btn.disabled = true;

    try {
      await sendToSheet(data);
      form.style.display = 'none';
      document.getElementById('signupSuccess').style.display = 'block';
      showToast('Iscrizione completata!');
    } catch (err) {
      showToast('Errore ‚Äî riprova tra poco');
      btn.textContent = 'Iscrivimi alla lista';
      btn.disabled = false;
    }
  }

  async function handleInfo(e) {
    e.preventDefault();
    const form = e.target;
    const btn = form.querySelector('.btn-primary');
    const data = Object.fromEntries(new FormData(form));
    data.tipo = 'richiesta_info';

    btn.textContent = 'Invio in corso...';
    btn.disabled = true;

    try {
      await sendToSheet(data);
      form.style.display = 'none';
      document.getElementById('infoSuccess').style.display = 'block';
      showToast('Domanda inviata!');
    } catch (err) {
      showToast('Errore ‚Äî riprova tra poco');
      btn.textContent = 'Invia domanda';
      btn.disabled = false;
    }
  }

  async function handleInvite(e) {
    e.preventDefault();
    const form = e.target;
    const btn = form.querySelector('.btn-primary');
    const data = Object.fromEntries(new FormData(form));
    data.tipo = 'invito_amico';

    btn.textContent = 'Invio in corso...';
    btn.disabled = true;

    try {
      await sendToSheet(data);
      form.style.display = 'none';
      document.getElementById('inviteSuccess').style.display = 'block';
      showToast('Invito inviato!');
    } catch (err) {
      showToast('Errore ‚Äî riprova tra poco');
      btn.textContent = 'Invia invito';
      btn.disabled = false;
    }
  }

  function getShareText() {
    return `Back to Paranoia\nSabato 21 Marzo\nSeven ‚Äî Gorla Maggiore (Via Sabotino)\n20‚Ç¨ open bar tutta la notte\nGuardaroba incluso\n21:30 - 03:00\n\nIscriviti qui: ${window.location.href}`;
  }

  function copyToClipboard() {
    navigator.clipboard.writeText(getShareText()).then(() => showToast('Testo copiato!'));
  }

  // Imposta il link WhatsApp con lo stesso testo
  document.getElementById('waShareBtn').href = 'https://wa.me/?text=' + encodeURIComponent(getShareText());

  function copyPageLink() {
    navigator.clipboard.writeText(window.location.href).then(() => showToast('Link copiato!'));
  }
</script>

</body>
</html>
